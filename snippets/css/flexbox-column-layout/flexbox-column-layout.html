<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Flexbox col layout</title>

	<style type="text/css">

	body {
		--baseline-grid: 1.5rem;
		line-height: var(--baseline-grid);
	}

	.grid {
		display: flex;
		--grid-gutter: var(--baseline-grid);
	}

	.grid .box {
		/*padding: calc(var(--grid-gutter)/2);*/
		margin-bottom: var(--grid-gutter);
	}

	.grid [class*='col-'],
	.grid[class*='before-']:before,
	.grid[class*='after-']:after {
		flex: 1;
		overflow: hidden;
		content: ''; /* this applies only to :before / :after */
	}

	.grid [class*='col-'],
	.grid[class*='before-']:before {
		margin-right: var(--grid-gutter);
	}

	.grid:not([class*='after-']) [class*='col-']:last-child {
		margin-right: 0;
	}

	.grid .col-2,
	.grid.before-2:before,
	.grid.after-2:after {
		flex-grow: 2;
		padding-left: var(--grid-gutter);
	}

	.grid .col-2 > .box,
	.grid .col-2 > .grid {
		margin-left: calc(-1 * var(--grid-gutter));
	}

	.grid .col-3,
	.grid.before-3:before,
	.grid.after-3:after {
		flex-grow: 3;
		padding-left: calc(2 * var(--grid-gutter));
	}

	.grid .col-3 > .box,
	.grid .col-3 > .grid {
		margin-left: calc(-2 * var(--grid-gutter));
	}

	.grid .col-4,
	.grid.before-4:before,
	.grid.after-4:after {
		flex-grow: 4;
		padding-left: calc(3 * var(--grid-gutter));
	}

	.grid .col-4 > .box,
	.grid .col-4 > .grid {
		margin-left: calc(-3 * var(--grid-gutter));
	}

	.grid .col-5,
	.grid.before-5:before,
	.grid.after-5:after {
		flex-grow: 5;
		padding-left: calc(4 * var(--grid-gutter));
	}

	.grid .col-5 > .box,
	.grid .col-5 > .grid {
		margin-left: calc(-4 * var(--grid-gutter));
	}

	/* 
		Presentational Styles
		------------------------------------------
	*/

	html {
		font-size: 16px;
	}

	body {
		padding: 2em;
		font-family: 
			-apple-system, 
			BlinkMacSystemFont, 
			"Segoe UI", 
			Helvetica, 
			Arial, 
			sans-serif, 
			"Apple Color Emoji", 
			"Segoe UI Emoji", 
			"Segoe UI Symbol";
	}

	.page {
		max-width: 60em;
		margin: 0 auto;
	}

	.page, .grid, .col, .box {
		transition: all 0.2s;
	}

	h1 {
		font-size: 2.4em;
		margin: var(--baseline-grid) 0;
		line-height: calc(2 * var(--baseline-grid));
	}

	.page:hover {
		background-image: 
			linear-gradient(
				to bottom, 
				rgba(0,0,0,0) calc(var(--baseline-grid) - 1px), 
				rgb(56,255,255) var(--baseline-grid)
			);
		background-size: 100% var(--baseline-grid);
		background-position: left top;
	}

	.page:hover .grid {
		background: rgba(200,255,0,0.05);
	}

	.page:hover [class*='col-'] {
		background: rgba(255,200,0,0.2);
	}

	.page:hover .box {
		/*border: 1px solid rgba(255,0,0,0.2);*/
		background: rgba(255,0,0,0.1);
	}

	</style>
</head>
<body>

	<!-- Let's implement a 5-col layout! -->
	<div class='page'>

		<div class='grid before-1 after-1'>
			<div class='col-3'>
				<div class='box'>
					<h1>Exploring columns & baseline ryhthm with flexbox in CSS</h1>
				</div>
			</div>
		</div>

		<div class='grid before-2'>
			<div class='col-1'>
				<div class='box'>
					Channeling my inner Josef Müller–Brockmann.
				</div>
			</div>
			<div class='col-1'>
				<div class='box'>
					Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque iaculis euismod nisl a dignissim. Integer velit risus, malesuada vel augue ut, vulputate tincidunt nisl. 
				</div>
			</div>
			<div class='col-1'>
				<div class='box'>
					Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
				</div>
			</div>
		</div>

		<div class='grid before-1 after-1'>
			<div class='col-1'>
				<div class='box'>
					Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque iaculis euismod nisl a dignissim.
				</div>
			</div>
			<div class='col-2'>
				<div class='box'>
					Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque iaculis euismod nisl a dignissim. Integer velit risus, malesuada vel augue ut, vulputate tincidunt nisl.
				</div>
			</div>
		</div>

		<div class='grid' style='font-size: 0.8em'>
			<div class='col-4'>
				<div class='grid'>
					<div class='col-1'>
						<div class='box'>
							Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque iaculis euismod nisl a dignissim. Integer velit risus, malesuada vel augue ut, vulputate tincidunt nisl. Donec rutrum viverra nisi euismod porta. Suspendisse eleifend mauris magna, eget pellentesque tellus finibus sit amet.
						</div>
					</div>
					<div class='col-2'>
						<div class='box'>
							Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque iaculis euismod nisl a dignissim. Integer velit risus, malesuada vel augue ut, vulputate tincidunt nisl. Donec rutrum viverra nisi euismod porta. Suspendisse eleifend mauris magna, eget pellentesque tellus finibus sit amet.
						</div>
					</div>
					<div class='col-1'>
						<div class='box'>
							Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque iaculis euismod nisl a dignissim. Integer velit risus, malesuada vel augue ut, vulputate tincidunt nisl. Donec rutrum viverra nisi euismod porta. Suspendisse eleifend mauris magna, eget pellentesque tellus finibus sit amet.
						</div>
					</div>
				</div>

			</div>
			<div class='col-1'>
				<div class='box'>
					Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque iaculis euismod nisl a dignissim. Integer velit risus, malesuada vel augue ut, vulputate tincidunt nisl. Donec rutrum viverra nisi euismod porta. Suspendisse eleifend mauris magna, eget pellentesque tellus finibus sit amet.
				</div>
			</div>
		</div>
		<div class='grid'>
			<div class='col-1'>
				<div class='box'>
				 	Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque iaculis euismod nisl a dignissim. Integer velit risus, malesuada vel augue ut, vulputate tincidunt nisl. Donec rutrum viverra nisi euismod porta. Suspendisse eleifend mauris magna, eget pellentesque tellus finibus sit amet. Suspendisse vel urna tristique, euismod nibh quis, consequat risus. Donec laoreet mi sit amet bibendum ornare. Quisque mollis feugiat tortor ut tempus. Aenean at libero fringilla, vestibulum nisl quis, lacinia turpis. Sed blandit nulla eros, sit amet vulputate tortor pulvinar dapibus. Donec fringilla enim a pharetra maximus. Nullam vel nisi sagittis, sollicitudin est et, vehicula turpis. Ut eu porta magna. Curabitur sit amet nunc ipsum. 
				</div>
			</div>

			<div class='col-4'>
				<div class='grid'>
					<div class='col-3' style='font-size:1.2em;'>
						<div class='grid'>
							<div class='col-1'>
								<div class='box'>
									Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque iaculis euismod nisl a dignissim. Integer velit risus, malesuada vel augue ut, vulputate tincidunt nisl. Donec rutrum viverra nisi euismod porta. Suspendisse eleifend mauris magna, eget pellentesque tellus finibus sit amet. Suspendisse vel urna tristique, euismod nibh quis, consequat risus. Donec laoreet mi sit amet bibendum ornare. Quisque mollis feugiat tortor ut tempus. Aenean at libero fringilla, vestibulum nisl quis, lacinia turpis. Sed blandit nulla eros, sit amet vulputate tortor pulvinar dapibus. Donec fringilla enim a pharetra maximus. Nullam vel nisi sagittis, sollicitudin est et, vehicula turpis. Ut eu porta magna. Curabitur sit amet nunc ipsum.
								</div>
							</div>
							<div class='col-2'>
									<div class='box'>
										Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque iaculis euismod nisl a dignissim.
									</div>

									<div class='grid' style='font-size:0.7em;'>
										<div class='col-1'>
											<div class='box'>
												Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque iaculis euismod nisl a dignissim. Integer velit risus, malesuada vel augue ut, vulputate tincidunt nisl. Donec rutrum viverra nisi euismod porta. Suspendisse eleifend mauris magna, eget pellentesque tellus finibus sit amet. Suspendisse vel urna tristique, euismod nibh quis, consequat risus. Donec laoreet mi sit amet bibendum ornare. Quisque mollis feugiat tortor ut tempus. Aenean at libero fringilla, vestibulum nisl quis, lacinia turpis. Sed blandit nulla eros, sit amet vulputate tortor pulvinar dapibus. Donec fringilla enim a pharetra maximus.
											</div>
										</div>
										<div class='col-1'>
											<div class='box'>
												Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque iaculis euismod nisl a dignissim. Integer velit risus, malesuada vel augue ut, vulputate tincidunt nisl. Donec rutrum viverra nisi euismod porta. Suspendisse eleifend mauris magna, eget pellentesque tellus finibus sit amet. Suspendisse vel urna tristique, euismod nibh quis, consequat risus. Donec laoreet mi sit amet bibendum ornare. Quisque mollis feugiat tortor ut tempus. Aenean at libero fringilla, vestibulum nisl quis, lacinia turpis. Sed blandit nulla eros, sit amet vulputate tortor pulvinar dapibus. Donec fringilla enim a pharetra maximus.
											</div>
										</div>
									</div>
								<!-- </div> -->
							</div>
						</div>
					</div>
					<div class='col-1'>
						<div class='box'>
							Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque iaculis euismod nisl a dignissim. Integer velit risus, malesuada vel augue ut, vulputate tincidunt nisl. Donec rutrum viverra nisi euismod porta. Suspendisse eleifend mauris magna, eget pellentesque tellus finibus sit amet. Suspendisse vel urna tristique, euismod nibh quis, consequat risus. Donec laoreet mi sit amet bibendum ornare. 
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>

</body>
</html>